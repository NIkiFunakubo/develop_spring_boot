<!doctype html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
<meta charset="UTF-8" />
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<title>CRUD Sample</title>
</head>
<body>
	<div class="container"> <!--th:fragment="logout" sec:authorize="isAuthenticated()"-->
	
		<p>
			Login as: <span sec:authentication="principal.username"></span>
			<span sec:authentication="principal.authorities"></span>
		</p>

			<form role="form" id="logout" th:action="@{/logout}" method="post">
				<button type="submit" class="btn btn-default"/ >ログアウト</button>
			</form>	
		<h1>hello page</h1>
		<p>"edit/id"で編集,"delete/id"で削除ができます</p>
			<form method="post" th:action="@{/}" th:object="${formModel}">
			<div class="form-group">
					<label for="userName">名前</label>
					<input type="text" name="userName" th:value="*{userName}" class="form-control"/>
			</div>
			<div class="form-group">
			<label for="name">キーワード</label>
			<input type="text" name="keyword" th:value="*{keyword}" class="form-control" />
			</div>
			<button type="submit" class="btn btn-default"/>送信</button>
		
			</form>
			<p><a th:href="@{/signup}">Sign up</a></p>
			<p><a th:href="@{/login}">Sign up</a></p>
		<hr />
		<table>
			<tr>
				<th>id</th>
				<th>名前</th>
				<th>キーワード</th>
			</tr>
			<tr th:each="obj : ${datalist}">
				<td th:text="${obj.id}"></td>
				<td th:text="${obj.userName}"></td>
				<td th:text="${obj.keyword}"></td>
				<td><a class="btn btn-default btn-xs" th:href="@{/edit/{id}/(id=*{obj.id})}">編集</a>
					<a class="btn btn-default btn-xs" th:href="@{/delete/{id}/(id=*{obj.id})}">削除</a>
				</td>
			</tr>
		</table>
	</div>
</body>
</html>